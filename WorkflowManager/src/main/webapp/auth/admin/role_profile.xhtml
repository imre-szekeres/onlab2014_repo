<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

	<ui:composition template="../../WEB-INF/templates/wm_frame.xhtml">
	   <ui:define name='content_title'>
	       #{ roleManager.role.name } Details
	   </ui:define>
	   
	   <ui:define name='content'>
	       
	       <div id='roleprofile-div'>
	       
	           <div id='roleprofile-wrapper'>
	           <h:panelGrid columns='2'>
	               <h:outputText value='Role Name: ' />
	               <h:outputText value='#{ roleManager.role.name }' />
	               
	               <h:outputText value='Role ID: ' />
	               <h:outputText value='#{ roleManager.role.name}' />
	           </h:panelGrid>
	           </div>
	           <br />
	           
	           <div id='assignedusrs-wrapper'>
	           <h:form prependId='false'>
	           <h:dataTable value='#{roleManager.listUsers()}' var='user' id='usrs-table' >
                   <f:facet name='header'>
                       <h:outputText value='Assigned Users' />
                   </f:facet>
                   <h:column>
                       <f:facet name='header'>
                          Username
                       </f:facet>
                       <h:outputText value='#{ user.username }' />
                   </h:column>
                   
                   <h:column>
                       <f:facet name='header'>
                           Remove
                       </f:facet>
                       <h:commandButton action='#{roleManager.removeFrom( user )}' value='Remove' styleClass='btn'/>
                   </h:column>
               </h:dataTable>
	           </h:form>
	           </div>
	           
	           <div id='assignedactions-wrapper'>
	           <h:form prependId='false'>
               <h:dataTable value='#{roleManager.listActions()}' var='action' id='actions-table'>
                   <f:facet name='header'>
                       <h:outputText value='Allowed Actions' />
                   </f:facet>
                   <h:column>
                       <f:facet name='header'>
                          Action Name
                       </f:facet>
                       <h:outputText value='#{ action.actionTypeName }' />
                   </h:column>
               </h:dataTable>
               </h:form>
               </div>
	       
	       </div>
	       
	   </ui:define>
	
	</ui:composition>
</html>